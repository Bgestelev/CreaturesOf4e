
<style>
    /* Google Fonts */
    @import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&family=Cinzel+Decorative:wght@700&family=Marcellus+SC&display=swap');

    /* Overall container: subtle border, minimal lines */
    .monster-block {
        max-width: 600px;
        margin: 0px auto;
        font-family: 'Source Sans Pro', sans-serif;
        background: #CDCBB5;
        border: 1px solid #e2d4b7; /* Very light border */
        box-shadow: 2px 2px 8px rgba(0,0,0,0.3);
    }

    /* TOP BAR (Name, subtypes, level, XP) */
    .monster-top {
        color: #fff;
        background: #4E5C2E;
        padding: 8px;
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }
    .monster-top-left {
        display: flex;
        flex-direction: column;
    }
    .monster-name {
        font-family: 'Cinzel Decorative', serif;
        font-size: 20px;
        font-weight: 700;
        margin-bottom: 2px;
    }
    .monster-subtypes {
        font-size: 14px;
        font-style: italic;
        margin-left: 1px;
    }
    .monster-top-right {
        text-align: right;
        font-size: 14px;
        margin-left: 10px;
    }

    /* SECOND BAR (HP, AC, etc.) */
    .monster-mid {
        background: #E8E6D4;
        padding: 8px;
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }
    .monster-mid-left,
    .monster-mid-right {
        font-size: 14px;
        line-height: 1.4em;
        width: 49%;
    }
    .monster-mid-left .bold,
    .monster-mid-right .bold {
        font-weight: bold;
    }
    .monster-mid-left > div,
    .monster-mid-right > div {
        margin-bottom: 6px;
    }

    /* Section Title Bars (e.g., TRAITS, STANDARD ACTIONS) */
    .section-title {
        background: #70774F; /* Dark olive heading bar */
        color: #fff;
        font-weight: bold;
        text-transform: uppercase;
        padding: 4px 8px;
        font-size: 14px;
        margin-top: 10px;  /* Spacing above heading */
        margin-bottom: 0; /* No thick line under heading */
    }

    /* Section content uses padding/margin, no lines */
    .section-content {
        background: #E8E6D4;
        padding: 8px;
        margin-bottom: 8px; /* Spacing after content block */
    }

    /* Collapsible details for traits/actions (no thick lines) */
    details {
        background: #fff;
        margin: 6px 0;
        padding: 6px 8px;
        border-left: 4px solid #4b5320; /* Simple left bar */
    }
    details summary {
        cursor: pointer;
        font-weight: bold;
    }

    /* Tinted backgrounds for usage types */
    .usage-at-will { background-color: #90d390bf; }
    .usage-recharge { background-color: #e4e473db; }
    .usage-encounter { background-color: #ae1a328c; }

    .bold {
        font-weight: 700;
    }

    /* Attribute, skills, languages, etc. */
    .attribute-section {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        margin-top: 6px;
    }
    .paired-stat {
        display: flex;
        flex-direction: column;
        margin-right: 10px;
        margin-bottom: 4px;
    }

    /* Damage application controls */
    #applyDamageButton {
        border-radius: 3px;
        background-color: #4b5320;
        color: #fff;
        border: none;
        padding: 3px 6px;
        cursor: pointer;
        font-size: 13px;
        margin-left: 6px;
    }
    #damageInput {
        width: 60px;
        border-radius: 3px;
        border: 1px solid #ccc;
        padding: 3px;
        font-size: 13px;
        margin-left: 5px;
    }
</style>

<div class="monster-block">
    <!-- TOP BAR -->
    <div class="monster-top">
        <div class="monster-top-left">
            <div class="monster-name">Iron Cobra</div>
            <div class="monster-subtypes">Medium natural animate, Construct, homunculus</div>
        </div>
        <div class="monster-top-right">
            <div>Level 6 skirmisher / standard</div>
            <div>XP: 250</div>
        </div>
    </div>

    <!-- SECOND BAR (HP, AC, defenses, etc.) -->
    <div class="monster-mid">
        <div class="monster-mid-left">
            <div>
                <span class="bold">HP</span> 75;
                <span class="bold">Bloodied</span> 37;
            </div>
            <div>
                <span class="bold">AC</span> 20,
                <span class="bold">Fortitude</span> 20,
                <span class="bold">Reflex</span> 18,
                <span class="bold">Will</span> 17
            </div>
            <div>
                <span class="bold">Speed</span> 7
            </div>
            <!-- Current Health & Damage Taken -->
            <div>
                <span class="bold">Current Health:</span>
                <span id="currentLifeDisplay">75</span>
                <input type="number" id="damageInput" placeholder="0" />
                <button id="applyDamageButton">Apply</button>
            </div>
        </div>
        <div class="monster-mid-right">
            <div>
                <span class="bold">Initiative</span> +7
            </div>
            <div>
                <span class="bold">Senses</span> Normal Vision, Darkvision
            </div>
            
        </div>
    </div>

    <!-- RESIST, VULN, IMMUNE -->
    <div class="section-content" style="margin-top: 8px;">
        <span class="bold">Resistances:</span>  |
        <span class="bold">Vulnerabilities:</span>  |
        <span class="bold">Immunities:</span> poison, disease
    </div>

    <!-- TRAITS -->
    
    <div class="section-title">Traits</div>
    <div class="section-content">
        
        <details>
            <summary>Guard Area</summary>
            <div>The iron cobra can use its poison the mind power against any creature in its guarded area, even if the power hasn't recharged and even if the target isn't taking ongoing poison damage.</div>
        </details>
        
    </div>
    

    <!-- ACTIONS -->
    
    <div class="section-title">Standard Actions</div>
    <div class="section-content">
        
            
            
                
            
            <details class="usage-at-will">
                <summary><span class="bold">Bite</span> (at-will)</summary>
                <div>Basic Attack At-Will ✦ poison Standard Attack:<br>Melee 1 (one creature) +11 vs. AC Hit:<br>1d8 + 4 damage, and ongoing 5 poison damage (save ends).</div>
            </details>
        
            
            
                
            
            <details class="usage-recharge">
                <summary><span class="bold">Poison the Mind</span> (recharge)</summary>
                <div>Recharge 3-6 ✦ charm Standard Attack:<br>Ranged 10 (one creature taking ongoing poison damage) +9 vs. Will Hit:<br>The target is dazed and slowed (save ends both).</div>
            </details>
        
            
            
                
            
            <details class="usage-at-will">
                <summary><span class="bold">Slithering Shift</span> (at-will)</summary>
                <div>At-Will Move Effect:<br>The iron cobra shifts 3 squares.</div>
            </details>
        
    </div>
    

    <!-- SKILLS & ABILITIES -->
    <div class="section-title">Skills & Abilities</div>
    <div class="section-content">
        <div><span class="bold">Skills:</span> Perception +9, Stealth +10</div>
        <div class="attribute-section">
            <div class="paired-stat">
                <div><span class="bold">Str</span> 17 (+6)</div>
                <div><span class="bold">Con</span> 19 (+7)</div>
            </div>
            <div class="paired-stat">
                <div><span class="bold">Dex</span> 15 (+5)</div>
                <div><span class="bold">Int</span> 5 (+0)</div>
            </div>
            <div class="paired-stat">
                <div><span class="bold">Wis</span> 13 (+4)</div>
                <div><span class="bold">Cha</span> 12 (+4)</div>
            </div>
        </div>
    </div>

    <!-- LANGUAGES & OTHER -->
    <div class="section-title">Languages & Other</div>
    <div class="section-content">
        <div>
            <span class="bold">Languages:</span>  (written),
             (spoken)
        </div>
        
        <div style="margin-top: 6px;">
            <span class="bold">Alignment:</span> Unaligned
        </div>
    </div>
</div>

<script>
(function(){
    var currentLifeDisplay = document.getElementById("currentLifeDisplay");
    var damageInput = document.getElementById("damageInput");
    var applyButton = document.getElementById("applyDamageButton");
    // Initialize current life to full HP
    var currentLife = parseInt(currentLifeDisplay.innerText) || 0;
    var bloodied = parseInt("37") || 0;
    
    function applyDamage(){
        var damage = parseInt(damageInput.value) || 0;
        currentLife -= damage;
        if(currentLife < 0) currentLife = 0;
        currentLifeDisplay.innerText = currentLife;

        /* If current life <= bloodied, make the text bold & crimson.
           Otherwise, revert to normal. */
        if(currentLife <= bloodied){
            currentLifeDisplay.style.color = "crimson";
            currentLifeDisplay.style.fontWeight = "bold";
        } else {
            currentLifeDisplay.style.color = "";
            currentLifeDisplay.style.fontWeight = "";
        }

        damageInput.value = "";
    }
    
    applyButton.addEventListener("click", applyDamage);
    damageInput.addEventListener("keydown", function(e) {
        if(e.key === "Enter"){
            applyDamage();
            e.preventDefault();
        }
    });
})();
</script>