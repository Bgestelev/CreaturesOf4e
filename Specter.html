
<style>
    .statblock { 
        max-width: 500px; 
        background: #fff; 
        font-family: Arial, sans-serif;
    }
    .header { 
        background: #4b5320; 
        color: white; 
        padding: 10px; 
        font-size: 20px; 
        font-weight: bold; 
    }
    .subheader { 
        background: #c8b68e; 
        padding: 5px; 
        font-size: 14px; 
        font-style: italic; 
    }
    /* Remove borders and alternate background colors for sections */
    .statblock > .section {
        padding: 10px;
        border: none;
    }
    /* Alternate backgrounds in reversed order: odd sections get #e8ddc3, even get #c8b68e */
    .statblock > .section:nth-of-type(odd) {
        background: #e8ddc3;
    }
    .statblock > .section:nth-of-type(even) {
        background: #c8b68e;
    }
    details { 
        margin-top: 5px;
        margin-bottom: 5px;
        padding: 5px;
        border-left: 4px solid #4b5320;
    }
    details summary {
        cursor: pointer;
        font-weight: bold;
    }
    .bold { 
        font-weight: bold; 
    }
    .paired-stat {
        display: flex;
        flex-direction: column;
    }
    /* Attribute section: display as a row */
    .attribute-section {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
    }
    /* Style for the Apply button */
    #applyDamageButton {
        float: right;
        border-radius: 5px; 
        background-color: lemonchiffon; 
        font-weight: bold; 
        border-color: transparent; 
        box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
    }
    #damageInput {
        float: right; 
        width: 80px; 
        border-radius: 5px; 
        border-color: transparent; 
        margin-left: 10px;
    }
</style>
<div class="statblock">
    <div class="header">Specter - Level 4 lurker / standard</div>
    <div class="subheader">
        <span style="float: left;">Medium shadow humanoid, Undead | Chaotic Evil</span>
        <span style="float: right;">XP: 175</span>
        <div style="clear: both;"></div>
    </div>
    <div class="section">
        <span class="bold">Initiative:</span> +8 | <span class="bold">Senses:</span> Normal Vision, Darkvision
    </div>
    <div class="section">
        <span class="bold">HP:</span> 30 | <span class="bold">Bloodied:</span> 15
    </div>
    <div class="section" id="currentLifeSection">
        <span class="bold">Current Life:</span> 
        <span id="currentLifeDisplay">30</span>
        <input type="number" id="damageInput" placeholder="Damage" />
        <button id="applyDamageButton">Apply</button>
        <div style="clear:both;"></div>
    </div>
    <div class="section">
        <span class="bold">AC:</span> 16, <span class="bold">Fort:</span> 16, <span class="bold">Ref:</span> 16, <span class="bold">Will:</span> 17
    </div>
    <div class="section">
        <span class="bold">Speed:</span> 6, fly 6 (hover);phasing
    </div>
    
    <div class="section">
        <span class="bold">Resistances:</span> 10 necrotic, insubstantial | 
        <span class="bold">Vulnerabilities:</span> 5 radiant | 
        <span class="bold">Immunities:</span> poison, disease
    </div>
    
    <div class="section">
        <strong>Traits:</strong>
        
        <details>
            <summary>Spectral Chill</summary>
            <div>Cold Aura 1 Each enemy within the aura takes a -2 penalty to all defenses.</div>
        </details>
        
    </div>
    
    
    <div class="section">
        <strong>Actions:</strong>
        
            
            <details style="background-color: #90d390bf;">
            
                <summary><span class="bold">Spectral Touch</span> (at-will)</summary>
                <div>Basic Attack At-Will ✦ necrotic Standard Attack:<br>Melee 1 (one creature) +7 vs. Reflex Hit:<br>1d6 + 2 necrotic damage.</div>
            </details>
        
            
            <details style="background-color: #e4e473db;">
            
                <summary><span class="bold">Spectral Barrage</span> (recharge)</summary>
                <div>Recharge 5-6 ✦ illusion, psychic Standard Attack:<br>Close burst 2 (enemies in the burst) +7 vs. Will Hit:<br>2d6 + 2 psychic damage, and the target falls prone.</div>
            </details>
        
            
            <details style="background-color: #90d390bf;">
            
                <summary><span class="bold">Invisibility</span> (at-will)</summary>
                <div>At-Will ✦ illusion Standard Effect:<br>The specter becomes invisible until it hits or misses with an attack.</div>
            </details>
        
    </div>
    
    <div class="section">
        <span class="bold">Languages:</span>  (written), Common (spoken)
    </div>
    <div class="section">
        <span class="bold">Skills:</span> Perception +6, Stealth +9
    </div>
    <div class="section attribute-section">
        <div class="paired-stat">
            <div><span class="bold">Str</span> 10 (+2)</div>
            <div><span class="bold">Con</span> 13 (+3)</div>
        </div>
        <div class="paired-stat">
            <div><span class="bold">Dex</span> 15 (+4)</div>
            <div><span class="bold">Int</span> 6 (+0)</div>
        </div>
        <div class="paired-stat">
            <div><span class="bold">Wis</span> 8 (+1)</div>
            <div><span class="bold">Cha</span> 15 (+4)</div>
        </div>
    </div>
    
</div>
<script>
(function(){
    var currentLifeDisplay = document.getElementById("currentLifeDisplay");
    var damageInput = document.getElementById("damageInput");
    var applyButton = document.getElementById("applyDamageButton");
    // Initialize current life to full HP
    var currentLife = parseInt(currentLifeDisplay.innerText) || 0;
    var bloodied = parseInt("15") || 0;
    
    function applyDamage(){
        var damage = parseInt(damageInput.value) || 0;
        currentLife -= damage;
        if(currentLife < 0) currentLife = 0;
        currentLifeDisplay.innerText = currentLife;
        // Change background color to crimson if current life is at or below bloodied threshold
        if(currentLife <= bloodied){
            document.getElementById("currentLifeSection").style.backgroundColor = "crimson";
        } else {
            document.getElementById("currentLifeSection").style.backgroundColor = "";
        }
        damageInput.value = "";
    }
    
    applyButton.addEventListener("click", applyDamage);
    damageInput.addEventListener("keydown", function(e) {
        if(e.key === "Enter"){
            applyDamage();
            e.preventDefault();
        }
    });
})();
</script>